---
title: "main"
format: html
editor: visual
---

## Note :

On veut des exemples de site web

## Idée pour l'interface :

L'objectif est d'accéder rapidement à une offre d'emplois en utilisant des mots clefs

On veut plusieurs pages : - Une qui présente l'application - Une qui permet de faire une recherche avec des mots clefs - Une qui permet de faire des recherches sur base de compétence - Une qui permet de mettre son cv et de créer un matching avec une annonce (sur quel critère on réalise le match ?) - Afficher quelques stats ?

## Create an example of data frame

```{r}

job_data <- data.frame(
  RechercheEffectuée = c("data analyst", "big data", "data scientist", "business intelligence", "data engineer", 
                         "data analyst junior", "machine learning", "data visualization", "data manager", "data architect"),
  IntituléPoste = c("Data Analyst", "Big Data Engineer", "Data Scientist", "Business Intelligence Analyst", "Data Engineer",
                    "Junior Data Analyst", "Machine Learning Engineer", "Data Visualization Expert", "Data Manager", "Data Architect"),
  DescriptionPoste = c("Analyse de données et reporting", "Traitement de grandes quantités de données", "Modélisation prédictive et statistiques", "Analyse de données pour insights business", "Conception et maintenance d'infrastructures de données",
                       "Analyse de données, support aux équipes senior", "Développement d'algorithmes d'apprentissage automatique", "Création de visualisations de données complexes", "Gestion des opérations de données", "Architecture et conception de solutions de données"),
  FourchetteSalaire = c("35k-45k", "50k-70k", "55k-75k", "40k-60k", "50k-70k", 
                        "30k-40k", "60k-80k", "45k-55k", "50k-65k", "70k-90k"),
  Entreprise = c("DataCorp", "BigDataTech", "PredictiveInsights", "BI Solutions", "DataPipeline Inc", 
                 "Analytica", "ML Innovations", "VisuData", "DataManager Group", "ArchitectData"),
  SecteurEntreprise = c("Analyse de données", "Technologie", "Finance", "Consulting", "Informatique", 
                        "Marketing", "Intelligence Artificielle", "Design", "Gestion de données", "Informatique"),
  CompétencesDemandées = c("SQL, Python", "Hadoop, Spark", "Python, R, SQL", "Tableau, SQL", "Python, ETL", 
                           "Excel, SQL", "Python, TensorFlow", "Tableau, D3.js", "Gestion de base de données", "Big Data, Cloud Computing"),
  LieuExercice = c("Paris", "Lyon", "Marseille", "Toulouse", "Nice", 
                   "Nantes", "Strasbourg", "Bordeaux", "Lille", "Rennes"),
  TypeEmploi = c("CDI", "CDI", "CDI", "CDI", "CDI", 
                 "CDD", "CDI", "CDI", "CDI", "CDI"),
  DuréeEmploi = c(NA, NA, NA, NA, NA, 
                  "12 mois", NA, NA, NA, NA),
  SiteSourceAnnonce = c("indeed.com", "monster.fr", "apec.fr", "linkedin.com", "glassdoor.fr", 
                        "cadremploi.fr", "aijobs.com", "vizjobs.com", "datajobs.fr", "techarchjobs.com"),
  LienAnnonce = c("link1", "link2", "link3", "link4", "link5", 
                  "link6", "link7", "link8", "link9", "link10"),
  stringsAsFactors = FALSE
)


print(job_data)

```

```{r}
write.csv2(job_data, file = "data/job_data.csv")
```

```{r}
library(pdftools)
library(tesseract)
library(stringr)
```


```{r}
# loading pdf test :

# Lire le contenu du PDF
texte_cv <- 
```

```{r}
# Cela dépend de la façon dont les compétences sont présentées dans le CV
competences <- str_extract_all(texte_cv, "data")

# Afficher les compétences extraites
print(competences)

```
```{r}
# Extraction du texte du CV (remplacer par le chemin de votre fichier)
texte_cv <- tolower(pdf_ocr_text("data/CV Yoann.pdf"))

# Exemple d'extraction de compétences du CV (ajuster selon le format du CV)
competences_cv <- str_extract_all(texte_cv, "\\b([A-Za-z]+)\\b")[[1]]
competences_cv <- unique(competences_cv)

# Fonction pour vérifier si le CV correspond aux compétences demandées
verifier_competences <- function(competences_offre, competences_cv) {
  competences_offre <- str_to_lower(competences_offre)
  competences_offre_liste <- unlist(str_split(competences_offre, ",\\s*"))
  any(competences_offre_liste %in% competences_cv)
}

# Appliquer la fonction à chaque offre d'emploi
job_data$CorrespondanceCV <- sapply(job_data$CompétencesDemandées, function(x) verifier_competences(x, competences_cv))

# Afficher les offres correspondantes
offres_correspondantes <- job_data[job_data$CorrespondanceCV, ]

```




